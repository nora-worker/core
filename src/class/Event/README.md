イベントパターン
================

目的
----

オブジェクトの粗結合を実現する為に使用する

考察
----

Symfonyのイベントサブスクライブのパターンはイベントオブジェクトを複数作成
する必要があり堅牢だが面倒

イベントの目的して、パラメータの交換があり、複数作成すれば、getXXXの様に
インターフェイスを確定する事が可能だが、こちらは一つのイベントオブジェクト
で対応する為に以下のようにイベントオブジェクト作成時にパラメタを定義させる。

未定義のパラメタを取得しようとするとInvalidParamName例外を起こす設計とした

```php
Event::create('tag', [
        'input' => 'hoge',
        'output' => null
])->output;
```

概念
----

イベントマネージャ:
イベントの発生、オブザーバの登録をするオブジェクト

イベント:
イベントの状態を持つオブジェクト

オブザーバ:
イベントを監視するオブジェクト

イベントマネージャはオブザーバの登録を受け付ける。
イベントマネージャはデフォルトのオブザーバとしてEventListenerを持つ。
これにより, observe(EventObserver), on(tag, callback)を可能としている。

イベントマネージャはイベント発生の要求を受け付ける.
EventManager::dispatch(タグ, Event);

イベント発生要求を受け付けるとイベントマネージャは登録されている全オブザーバのnotifyメソッドを呼び出す。

イベントオブジェクトは自信の伝搬を止めるメソッドを持つ。
stopPropagationメソッドで停止状態へ変更し、
isStopPropagationで停止状態かを確認する


オブザーバの種類
----------------

クロージャ EventObjectClosure:
全イベントに対してコールバック関数を適用する

リスナ EventListener:
特定タグに対するハンドラを適用する




